# 3.服务器性能剖析

## 3.1 性能剖析简介

- 什么是性能

  完成某件任务所需要的时间度量，即响应时间

- 优化

  可以理解为缩短响应时间，提高吞吐量

## 3.1.1 通过性能剖析进行优化

- 性能剖析的两个步骤
  1. 测量任务所花费的时间
  2. 对结果进行统计和排序
- 性能剖析工具的原理：任务开始时启动计时器，任务结束时停止计时器，得到响应时间。（mk-query-digest）

## 3.1.2 理解性能剖析

- 值得优化的查询

  对于本身占总响应时间很少比重的查询是不值得优化的

- 异常情况

  某些查询执行的总时间所占比重较少，但是平均每次执行的平均时间较长，它在统计结果中不容易引起人的注意，但是这种是值得优化的

- 丢失的时间

  总时间与统计时间总量的差值如果不为0，存在未被统计到的丢失时间，这段时间没有被工具统计到。

- 被掩藏的细节

  医院所有病人的平均体温是没有任何意义的，所以只看平均值是无法获取到全部信息的，我们需要获取多次查询的更多信息，比如直方图，标准差，偏差指数等

## 3.2 对应用程序进行剖析





